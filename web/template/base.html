{{define "base"}}
<!-- This is the base layouy for the PriCoSha website. -->
<!DOCTYPE html>
<html>
<title>PriCoSha</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
<link rel='stylesheet' href='https://fonts.googleapis.com/css?family=Open+Sans'>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>
    html,
    body,
    h1,
    h2,
    h3,
    h4,
    h5 {
        font-family: "Open Sans", sans-serif
    }
</style>

<body class="w3-theme-l5">
    <div class="w3-sidebar w3-dark-grey w3-card" style="width:160px">
        <a href="/" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-home"></i>Home</a>

        {{ $iflogged := .Logged}}
        {{if $iflogged}}
        <a href="/profile" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-user"></i>Profile</a>
        <a href="/friendgroups" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-users"></i>Friend
            Groups</a>
        <a href="/tag_manager" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-tags"></i>Tag
            Manager</a>
        <a href="/upload" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-upload"></i>Upload</a>
        <a href="/logout" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-sign-out"></i>Logout</a>
        {{else}}

        <!-- Old Login Button -->
        <!-- <a href="/login" class="w3-bar-item w3-button w3-block w3-left-align"><i class="fa fa-fw fa-sign-in"></i>Login</a> -->

        <!-- New Login Button -->
        <a onclick="document.getElementById('id01').style.display='block'" class="w3-button w3-block w3-left-align"><i
                class="fa fa-fw fa-sign-in"></i>Login</a>
        {{end}}
    </div>

    <!-- Page Container -->
    <div class="w3-container w3-content w3-padding-large" style="max-width:1400px;margin-left:160px">

        <!-- Check if User is logged in, if Logged in Page does not Require loading of Login Module -->
        {{ $iflogged := .Logged}}
        {{if $iflogged}}
        {{else}}

        <!-- Pop-up Login -->
        <!-- Defines a Modal Container, a dialog box/pop window that is displayed on top of the current page -->
        <div id="id01" class="w3-modal">
            <!-- Defines Modal Content. In this case, a Card with Zoom effect -->
            <div class="w3-modal-content w3-card-4 w3-animate-zoom" style="max-width:600px">

                <div class="w3-center"><br>
                    <span onclick="document.getElementById('id01').style.display='none'" class="w3-button w3-xlarge w3-transparent w3-display-topright"
                        title="Close Modal">Ã—</span>
                    <img src="https://www.w3schools.com/w3images/avatar4.png" alt="Avatar" style="width:30%" class="w3-circle w3-margin-top">
                </div>
                <!-- creates form inside of the Card which allows for login, took action and method from andrea's code -->
                <form class="w3-container" action="/validate" method="POST">
                    <div class="w3-section">
                        <!-- buttons and labels adapted from andrea's login form -->
                        <label for="username"><b>Username</b></label>
                        <input class="w3-input w3-border w3-margin-bottom" type="text" placeholder="Enter Username"
                            name="username" required>
                        <label for="password"><b>Password</b></label>
                        <input class="w3-input w3-border" type="password" placeholder="Enter Password" name="password"
                            required>
                        <button class="w3-button w3-block w3-green w3-section w3-padding" type="submit" value="Login">Login</button>
                    </div>
                </form>

            </div>
        </div>
        {{end}}

        {{template "content" .}}

        <!-- End Page Container -->
    </div>

    <script>
        function myAccFunc() {
            var x = document.getElementById("demoAcc");
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
                x.previousElementSibling.className += " w3-green";
            } else {
                x.className = x.className.replace(" w3-show", "");
                x.previousElementSibling.className =
                    x.previousElementSibling.className.replace(" w3-green", "");
            }
        }

        function myFunction(id) {
            var x = document.getElementById(id);
            if (x.className.indexOf("w3-show") == -1) {
                x.className += " w3-show";
                x.previousElementSibling.className += " w3-theme-d1";
            } else {
                x.className = x.className.replace("w3-show", "");
                x.previousElementSibling.className =
                    x.previousElementSibling.className.replace(" w3-theme-d1", "");
            }
        }
    </script>
</body>

</html>
{{end}}